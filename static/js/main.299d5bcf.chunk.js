(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){e.exports=a(326)},145:function(e,t,a){},147:function(e,t,a){},150:function(e,t,a){},322:function(e,t,a){},324:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=(a(145),a(53)),s=a(12),i=a(13),u=a(15),m=a(14),p=a(16),d=(a(147),a(17)),h=a(327),f=a(328),v=a(329),E=a(330),b=(a(34),a(138)),g=function(e){var t=e.name,a=e.className,n=e.fa,o=void 0===n?"fa":n,l=e.style,c=Object(b.a)(e,["name","className","fa","style"]);return r.a.createElement("i",Object.assign({className:"".concat(a," ").concat(o," fa-").concat(t),style:l},c))},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPriority:a.props.priority,hoverPriority:0},a.handleMouseHover=function(e,t){e.preventDefault(),a.setState({hoverPriority:t})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ticket,n=t.id,o=t.priority,l=t.onUpdate,c=this.state.hoverPriority;return r.a.createElement("div",{className:"priority",title:"Priorit\xe9"},"finished"===a.status?r.a.createElement("div",null,r.a.createElement(g,{name:"star",fa:0===o?"far":"fas",className:"prio"}),r.a.createElement(g,{name:"star",fa:o<2?"far":"fas",className:"prio"}),r.a.createElement(g,{name:"star",fa:o<3?"far":"fas",className:"prio"})):r.a.createElement("div",null,r.a.createElement(g,{name:"star",fa:0===o&&c<1||o>=c&&1===o&&c>0?"far":"fas",className:"prio",onClick:function(e){return l(e,a,n,1)},onMouseEnter:function(t){return e.handleMouseHover(t,1)},onMouseLeave:function(t){return e.handleMouseHover(t,0)}}),r.a.createElement(g,{name:"star",fa:o<2&&c<2||o>=c&&2===o&&c>0?"far":"fas",className:"prio",onClick:function(e){return l(e,a,n,2)},onMouseEnter:function(t){return e.handleMouseHover(t,2)},onMouseLeave:function(t){return e.handleMouseHover(t,0)}}),r.a.createElement(g,{name:"star",fa:o<3&&c<3||o>=c&&3===o&&c>0?"far":"fas",className:"prio",onClick:function(e){return l(e,a,n,3)},onMouseEnter:function(t){return e.handleMouseHover(t,3)},onMouseLeave:function(t){return e.handleMouseHover(t,0)}})))}}]),t}(n.Component);function y(e){var t=e.status,a=e.ticket,n=e.id,o=e.onUpdate,l=e.onDelete;return r.a.createElement("div",{className:"didOrNot"},"desire"===a.status||"planned"===a.status?r.a.createElement(g,{name:"trash-alt",title:"Supprimer",className:"theme-trash",onClick:function(e){return l(e,a,n)}}):r.a.createElement("div",{title:"Fait ou pas fait"},r.a.createElement(g,{name:"thumbs-up",className:"".concat("done"===t?"active":""," theme-done"),onClick:function(e){return o(e,a,n,"done")}}),r.a.createElement(g,{name:"thumbs-down",className:"".concat("fail"===t?"active":""," theme-fail"),onClick:function(e){return o(e,a,n,"fail")}})))}var N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showForm:"false",id:0,title:"",status:"none",priority:0},a.getLastId=function(e){var t=1;return e&&e.length>0&&(t=e[e.length-1].id+1),t},a.showForm=function(e,t){e.preventDefault(),a.setState({showForm:t})},a.onUpdateStatut=function(e,t,n,r){e.preventDefault();var o=t.forecasts.filter(function(e){return e.id===n&&(e.status!==r||"desire"!==t.status&&"planned"!==t.status?e.status=r:e.status="none"),e});t.forecasts=o,a.props.onUpdateTicket(t)},a.onUpdatePriority=function(e,t,n,r){e.preventDefault();var o=t.forecasts.filter(function(e){return e.id===n&&(e.priority===r?e.priority=r-1:e.priority=r),e});t.forecasts=o,a.props.onUpdateTicket(t)},a.onDeleteForecast=function(e,t,n){e.preventDefault();var r=t.forecasts.findIndex(function(e){return e.id===n});t.forecasts.splice(r,1),a.props.onUpdateTicket(t)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onSubmit",value:function(e,t){if(e.preventDefault(),0===this.state.title.length)return alert("Titre vide");var a=1;t.forecasts?a=this.getLastId(t.forecasts):t.forecasts=[],t.forecasts.push({id:a,title:this.state.title,status:this.state.status,priority:0}),this.props.onUpdateTicket(t)}},{key:"render",value:function(){var e=this,t=this.props.ticket,a=this.state.showForm,n="";return"finished"!==t.status&&(n=r.a.createElement("span",{className:"action-icon",title:"Add new forecast",onClick:function(t){return e.showForm(t,"show")}},r.a.createElement(g,{name:"plus-circle"}))),r.a.createElement("div",{className:"ticket forecasts ".concat(t.status," col-md-12")},"show"===a?r.a.createElement("div",{className:"col-md-12"},r.a.createElement("span",{className:"action-icon",title:"Add new forecast",onClick:function(t){return e.showForm(t,"hidden")}},r.a.createElement(g,{name:"minus-circle"})),r.a.createElement("div",{id:"formForecast"},r.a.createElement("form",{onSubmit:function(a){return e.onSubmit(a,t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Titre"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("input",{className:"form-control",value:this.state.title,type:"text",placeholder:"",onChange:function(t){return e.onChangeTitle(t)}}))),r.a.createElement("div",{className:"btn-group col-md-12"},r.a.createElement("button",{className:"btn btn-default",onClick:function(t){return e.showForm(t,"hidden")}},"Annuler"),r.a.createElement("button",{className:"btn btn-primary",type:"submite"},"Ajouter"))))):n,r.a.createElement("div",{className:"col-md-12"},t.forecasts&&t.forecasts.length>0?r.a.createElement("ul",null,t.forecasts.map(function(a){return r.a.createElement("li",{key:a.id,className:"onHover"},a.title," ",r.a.createElement(k,{priority:a.priority,id:a.id,ticket:t,onUpdate:e.onUpdatePriority}),r.a.createElement(y,{status:a.status,ticket:t,id:a.id,onUpdate:e.onUpdateStatut,onDelete:e.onDeleteForecast}))})):""))}}]),t}(n.Component),C=[{input:"transport",output:"taxi",title:"Transport"},{input:"fooddrink",output:"utensils",title:"Nourriture"},{input:"accommodation",output:"bed",title:"Logement"},{input:"gift",output:"gift",title:"Souvenir"},{input:"activity",output:"walking",title:"Activit\xe9"},{input:"insurance",output:"hospital-symbol",title:"Assurance & Sant\xe9"},{input:"unexpected",output:"exclamation-triangle",title:"Impr\xe9vu"},{input:"other",output:"question-circle",title:"Autre"}];function w(e){var t=e.categoryInput,a=C.filter(function(e){return e.input===t});return r.a.createElement(g,{name:a[0].output,title:a[0].title})}var D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showForm:"false",id:0,category:"transport",title:"",amount:0,currency:"\u20ac"},a.getLastId=function(e){var t=1;return e&&e.length>0&&(t=e[e.length-1].id+1),t},a.showForm=function(e,t){e.preventDefault(),a.setState({showForm:t})},a.onDeleteExpense=function(e,t,n){e.preventDefault();var r=t.expenses.findIndex(function(e){return e.id===n});t.expenses.splice(r,1),a.props.onUpdateTicket(t)},a.getCurrencies=function(e){var t=[];return e.map(function(e){t.findIndex(function(t){return t===e.currency})<0&&t.push(e.currency)}),t},a.getTotal=function(e){var t=[],a=0;return e.map(function(e){(a=t.findIndex(function(t){return t.currency===e.currency}))<0?t.push({currency:e.currency,amount:e.amount}):t[a].amount=parseInt(t[a].amount)+parseInt(e.amount)}),t},a.getTotalDetail=function(e,t){var a=[],n=0;return C.map(function(r){t.map(function(t){a.push({category:r.input,currency:t,amount:0}),e.map(function(e){e.currency===t&&r.input===e.category&&(n=a.findIndex(function(e){return e.currency===t&&r.input===e.category}),a[n].amount=parseInt(a[n].amount)+parseInt(e.amount))})})}),console.log(a),a},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeCategory",value:function(e){this.setState({category:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeCurrency",value:function(e){this.setState({currency:e.target.value.toUpperCase()})}},{key:"onSubmit",value:function(e,t){if(e.preventDefault(),0===this.state.title.length)return alert("Titre vide");if(0===this.state.amount.length)return alert("Montant vide");if(0===this.state.currency.length)return alert("Devise vide");var a=1;t.expenses?a=this.getLastId(t.expenses):t.expenses=[],this.setState({title:"",amount:0}),t.expenses.push({id:a,category:this.state.category,title:this.state.title,amount:this.state.amount,currency:this.state.currency}),this.props.onUpdateTicket(t)}},{key:"render",value:function(){var e=this,t=this.props.ticket,a=this.state.showForm,n=[],o=[],l=[];return t.expenses&&t.expenses.length>0&&(n=this.getCurrencies(t.expenses),o=this.getTotal(t.expenses),l=this.getTotalDetail(t.expenses,n)),r.a.createElement("div",{className:"ticket expenses ".concat(t.status," col-md-12")},"show"===a?r.a.createElement("div",{className:"col-md-12"},r.a.createElement("span",{className:"action-icon",title:"Add new expense",onClick:function(t){return e.showForm(t,"hidden")}},r.a.createElement(g,{name:"minus-circle"})),r.a.createElement("div",{id:"formExpense"},r.a.createElement("form",{onSubmit:function(a){return e.onSubmit(a,t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Cat\xe9gorie"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("select",{className:"form-control",onChange:function(t){return e.onChangeCategory(t)},value:this.state.category},r.a.createElement("option",{value:"transport"},"Transport"),r.a.createElement("option",{value:"fooddrink"},"Nouriture ","&"," Boissons"),r.a.createElement("option",{value:"accommodation"},"Logement"),r.a.createElement("option",{value:"gift"},"Souvenir"),r.a.createElement("option",{value:"activity"},"Activit\xe9"),r.a.createElement("option",{value:"insurance"},"Assurance ","&"," Sant\xe9"),r.a.createElement("option",{value:"unexpected"},"Impr\xe9vu"),r.a.createElement("option",{value:"other"},"Autre"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Titre"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("input",{className:"form-control",value:this.state.title,type:"text",placeholder:"",onChange:function(t){return e.onChangeTitle(t)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-12 col-form-label"},"Montant"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{className:"form-control",value:this.state.amount,type:"number",placeholder:"",onChange:function(t){return e.onChangeAmount(t)}})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("input",{className:"form-control",value:this.state.currency,type:"text",autocomplete:!0,onChange:function(t){return e.onChangeCurrency(t)}}))),r.a.createElement("div",{className:"btn-group col-md-12"},r.a.createElement("button",{className:"btn btn-default",onClick:function(t){return e.showForm(t,"hidden")}},"Annuler"),r.a.createElement("button",{className:"btn btn-primary",type:"submite"},"Ajouter")))))):r.a.createElement("span",{className:"action-icon",title:"Add new expense",onClick:function(t){return e.showForm(t,"show")}},r.a.createElement(g,{name:"plus-circle"})),r.a.createElement("div",{className:"col-md-12"},t.expenses&&t.expenses.length>0?r.a.createElement("ul",null,t.expenses.map(function(a){return r.a.createElement("li",{key:a.id,className:"onHover"},r.a.createElement(w,{categoryInput:a.category})," "+a.title," : ",a.amount,a.currency,r.a.createElement("div",{className:"right"},r.a.createElement(g,{name:"trash-alt",title:"Supprimer",className:"theme-trash",onClick:function(a){return e.onDeleteExpense(a,t,t.id)}})))})):""),r.a.createElement("div",{className:"col-md-12 total"},t.expenses&&t.expenses.length>0?r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},o.map(function(e){return r.a.createElement("li",{key:e.currency},"Total : ",e.amount,e.currency)})),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Afficher total d\xe9taill\xe9")),r.a.createElement("table",{className:"table table-striped table-hover table-total"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),n.map(function(e){return r.a.createElement("th",null,e)}))),r.a.createElement("tbody",null,C.map(function(e){return r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(w,{categoryInput:e.input})," "+e.title),n.map(function(t){return l.map(function(a){return a.currency===t&&a.category===e.input?r.a.createElement("td",null,a.amount):""})}))})))):""))}}]),t}(n.Component),T=(a(150),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={active:"general"},a.changeActive=function(e,t){e.preventDefault(),a.setState({active:t})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ticket,n=t.onUpdateTicket,o=t.onHide,l=this.state.active;return r.a.createElement("div",{className:"container-fluid detail"},r.a.createElement(f.a,{className:"navbar navbar-dark bg-dark"},r.a.createElement(v.a,{className:"bold"},r.a.createElement(E.a,{eventKey:1,href:"#general"+a.id,className:"general"===l?"active":"",onClick:function(t){return e.changeActive(t,"general")}},"G\xe9n\xe9ral"),r.a.createElement(E.a,{eventKey:2,href:"#forecasts"+a.id,className:"forecasts"===l?"active":"",onClick:function(t){return e.changeActive(t,"forecasts")}},"Pr\xe9visions"),r.a.createElement(E.a,{eventKey:3,href:"#carnet"+a.id,className:"carnet"===l?"active":"",onClick:function(t){return e.changeActive(t,"carnet")}},"Carnet de bord"),r.a.createElement(E.a,{eventKey:4,href:"#expenses"+a.id,className:"expenses"===l?"active":"",onClick:function(t){return e.changeActive(t,"expenses")}},"D\xe9penses"),r.a.createElement(E.a,{eventKey:5,href:"#agenda"+a.id,className:"agenda"===l?"active":"",onClick:function(t){return e.changeActive(t,"agenda")}},"Agenda"),r.a.createElement(E.a,{eventKey:6,href:"#photos"+a.id,className:"photos"===l?"active":"",onClick:function(t){return e.changeActive(t,"photos")}},"Photos"),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:o},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))),r.a.createElement("div",{className:"col-md-12 details"},r.a.createElement("div",{className:"general"===l?"":"hidden"},r.a.createElement(O,{key:a.id,ticket:a,status:a.status,showForm:!1,onUpdateTicket:n,detail:"open",draggable:!1})),r.a.createElement("div",{className:"forecasts"===l?"":"hidden"},r.a.createElement(N,{ticket:a,onUpdateTicket:n})),r.a.createElement("div",{className:"expenses"===l?"":"hidden"},r.a.createElement(D,{ticket:a,onUpdateTicket:n})),r.a.createElement("div",{className:"carnet"===l?"":"hidden"},"Carnet de bord"),r.a.createElement("div",{className:"agenda"===l?"":"hidden"}),r.a.createElement("div",{className:"photos"===l?"":"hidden"},"Ajoutez vos photos et vid\xe9os")))}}]),t}(n.Component));function S(e){var t=e.name,a=e.ticket,n=e.onUpdate;return r.a.createElement(g,{name:t,className:"".concat(a.rating===t?"active":""," theme-").concat(t),onClick:function(e){return n(e,a,t)}})}var j=function(e){var t=e.ticket,a=e.onUpdate;return["angry","frown","meh","smile","grin-alt","grin-stars"].map(function(e){return r.a.createElement(S,{key:e,name:e,ticket:t,onUpdate:a})})},O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleShow=a.handleShow.bind(Object(d.a)(Object(d.a)(a))),a.handleClose=a.handleClose.bind(Object(d.a)(Object(d.a)(a))),a.state={show:!1,detail:a.props.detail},a.onDragStart=function(e,t){e.dataTransfer.setData("id",t)},a.updateRating=function(e,t,n){e.preventDefault(),t.rating=n,a.props.onUpdateTicket(t)},a.showForm=function(e,t){e.preventDefault(),a.props.showForm(t)},a.onDeleteTicket=function(e,t){e.preventDefault(),a.props.onDeleteTicket(t)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.ticket,n=t.status,o=t.draggable,l="col-md-12";a.to.length>0&&(l="col-md-6");var c=a.places;return c.length>30&&(c=c.substring(0,30)+" ..."),r.a.createElement("div",{onDragStart:function(t){return e.onDragStart(t,a.id)},draggable:o,className:"ticket ".concat(n," draggable ")},this.state.detail?"":r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(t){return e.onDeleteTicket(t,a.id)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("span",{className:"col-md-12 title-ticket ".concat(n)},a.title),r.a.createElement("div",{className:"container-fluid"},a.places.length>0?r.a.createElement("span",{className:"col-md-12",title:a.places},c):"",a.from.length>0?r.a.createElement("span",{className:"".concat(l," small italic light")},"Du: ",a.from):"",a.to.length>0?r.a.createElement("span",{className:"col-md-6 small italic light"},"au: ",a.to):"",a.transport.length>0&&"none"!==a.transport?r.a.createElement("span",{className:"col-md-12"},r.a.createElement(g,{name:a.transport})):"",r.a.createElement("span",{className:"col-md-12 italic light"},a.resume),"finished"===n?r.a.createElement("div",{className:"col-md-12 rating"},r.a.createElement(j,{ticket:a,onUpdate:this.updateRating})):"",this.state.detail?"":r.a.createElement("div",{className:"actionIcon"},r.a.createElement("span",{"aria-hidden":"true",title:"edit",className:"action-icon",onClick:function(t){return e.showForm(t,a.id)}},r.a.createElement(g,{name:"edit"})),r.a.createElement("span",{className:"action-icon",title:"See more informations"},r.a.createElement(g,{name:"info-circle",onClick:this.handleShow})))),this.state.detail?"":r.a.createElement(h.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(T,{ticket:a,onUpdateTicket:this.props.onUpdateTicket,onHide:this.handleClose})))}}]),t}(n.Component),M=a(32),F=a(23),x=(a(129),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getDate=function(e){var t=e.split("/");return 3===t.length?new Date(+t[2],t[1]-1,+t[0]):null},a.state={id:a.props.ticket.id,status:a.props.ticket.status,title:a.props.ticket.title,places:a.props.ticket.places,from:a.getDate(a.props.ticket.from),to:a.getDate(a.props.ticket.to),transport:a.props.ticket.transport,resume:a.props.ticket.resume},a.onChangeFrom=a.onChangeFrom.bind(Object(d.a)(Object(d.a)(a))),a.onChangeTo=a.onChangeTo.bind(Object(d.a)(Object(d.a)(a))),a.onDeleteTicket=function(e,t){e.preventDefault(),a.props.onDeleteTicket(t)},a.showForm=function(e,t){e.preventDefault(),a.props.showForm(t)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangePlaces",value:function(e){this.setState({places:e.target.value}),this.state.title.length<1&&this.setState({title:e.target.value})}},{key:"onChangeFrom",value:function(e){this.setState({from:e}),this.state.to&&Object(F.compareAsc)(e,this.state.to)>0&&this.setState({to:e})}},{key:"onChangeTo",value:function(e){(e&&Object(F.compareAsc)(e,this.state.from))<0?alert("La date doit \xeatre sup\xe9rieur \xe0 la date d\xe9part"):this.setState({to:e})}},{key:"onChangeTransport",value:function(e){this.setState({transport:e.target.value})}},{key:"onChangeResume",value:function(e){this.setState({resume:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t="",a="";this.state.from&&(t=Object(F.format)(this.state.from,"DD/MM/YYYY")),this.state.to&&(a=Object(F.format)(this.state.to,"DD/MM/YYYY")),this.setState({id:"",title:"",places:"",from:null,to:null,resume:""}),this.props.onUpdateTicket(Object(c.a)({},this.state,{from:t,to:a}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.status,o=t.title,l=t.places,c=t.from,s=t.to,i=t.transport,u=t.resume;return r.a.createElement("div",{className:"ticket ".concat(n," col-md-12")},r.a.createElement("form",{className:"form-horizontal col-md-12",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Titre"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("input",{className:"form-control",value:o,id:"titleTicket",type:"text",placeholder:"",onChange:function(t){return e.onChangeTitle(t)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Lieu(x)"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("input",{className:"form-control",id:"placesTicket",type:"text",value:l,placeholder:"",onChange:function(t){return e.onChangePlaces(t)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-1 col-form-label"},"Du:"),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(M.a,{className:"form-control",id:"fromTicket",selectsStart:!0,placeholder:"",isClearable:!0,dateFormat:"dd/MM/yyyy",selected:c,startDate:c,endDate:s,onChange:this.onChangeFrom,showYearDropdown:!0,showWeekNumbers:!0,dateFormatCalendar:"MMMM",scrollableYearDropdown:!0,showMonthDropdown:!0,yearDropdownItemNumber:80,autoComplete:"off"})),r.a.createElement("label",{className:"col-sm-1 col-form-label"},"au: "),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(M.a,{autoComplete:"off",className:"form-control",id:"toTicket",isClearable:!0,dateFormat:"dd/MM/yyyy",placeholder:"",selectsEnd:!0,selected:s,startDate:c,endDate:s,onChange:this.onChangeTo,showYearDropdown:!0,showWeekNumbers:!0,showMonthDropdown:!0,dateFormatCalendar:"MMMM",scrollableYearDropdown:!0,yearDropdownItemNumber:30}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Transport"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("select",{className:"form-control",onChange:function(t){return e.onChangeTransport(t)},value:i},r.a.createElement("option",{value:"none"},"Inconnu"),r.a.createElement("option",{value:"plane"},"Avion"),r.a.createElement("option",{value:"ship"},"Bateau"),r.a.createElement("option",{value:"bus"},"Bus"),r.a.createElement("option",{value:"motorcycle"},"Moto"),r.a.createElement("option",{value:"thumbs-up"},"Stop"),r.a.createElement("option",{value:"train"},"Train"),r.a.createElement("option",{value:"shuttle-van"},"Van"),r.a.createElement("option",{value:"bicycle"},"V\xe9lo"),r.a.createElement("option",{value:"car"},"Voiture")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-sm-3 col-form-label"},"R\xe9sum\xe9"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("textarea",{className:"form-control",defaultValue:u,onChange:function(t){return e.onChangeResume(t)}}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("button",{type:"button",className:"btn btn-default btn-block ",onClick:function(t){return e.showForm(t,a)}},"Annuler"),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Modifier"),r.a.createElement("button",{type:"button",className:"btn btn-delete btn-block",onClick:function(t){return e.onDeleteTicket(t,a)}},"Supprimer"))))}}]),t}(n.Component)),A=(a(322),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={editTicket:""},a.showForm=function(e){a.state.editTicket===e?a.setState({editTicket:""}):a.setState({editTicket:e})},a.onDragOver=function(e){e.preventDefault()},a.onUpdateTicket=function(e,t,n,r,o,l,c){a.setState({editTicket:""}),a.props.onUpdateTicket(e,t,n,r,o,l,c)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onDropTicket",value:function(e,t){e.preventDefault(),this.props.onDrop(e,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.status,n=t.tickets,o=t.onDeleteTicket;return r.a.createElement("div",{className:"table table-droppable table-"+a+" droppable",onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){e.onDropTicket(t,a)}},r.a.createElement("div",null,r.a.createElement("span",{className:"label-ticket col-md-12"},a)),r.a.createElement("div",{className:"col-md-12"},n.map(function(t){return e.state.editTicket===t.id?r.a.createElement(x,{key:t.id,ticket:t,status:a,onDeleteTicket:o,showForm:e.showForm,onUpdateTicket:e.onUpdateTicket}):r.a.createElement(O,{key:t.id,ticket:t,status:a,onDeleteTicket:o,showForm:e.showForm,onUpdateTicket:e.onUpdateTicket,draggable:!0})})))}}]),t}(n.Component)),U=(a(324),new Date),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={status:"desire",title:"",places:"",from:U,to:U,transport:"none",resume:"",showForm:"hide"},a.onChangeFrom=a.onChangeFrom.bind(Object(d.a)(Object(d.a)(a))),a.onChangeTo=a.onChangeTo.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangePlaces",value:function(e){this.setState({places:e.target.value}),this.state.title.length<1&&this.setState({title:e.target.value})}},{key:"onChangeFrom",value:function(e){this.setState({from:e}),Object(F.compareAsc)(e,this.state.to)>0&&this.setState({to:e})}},{key:"onChangeTo",value:function(e){(e&&Object(F.compareAsc)(e,this.state.from))<0?alert("La date doit \xeatre sup\xe9rieur \xe0 la date d\xe9part"):this.setState({to:e})}},{key:"onChangeTransport",value:function(e){this.setState({transport:e.target.value})}},{key:"onChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"onChangeResume",value:function(e){this.setState({resume:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t="";this.state.from&&(t=Object(F.format)(this.state.from,"DD/MM/YYYY")),this.state.to&&(t=Object(F.format)(this.state.to,"DD/MM/YYYY")),this.setState({title:"",places:"",from:U,to:U,resume:""}),this.props.onSendTicket(this.state.title,this.state.places,t,"",this.state.transport,this.state.status,this.state.resume)}},{key:"displayForm",value:function(e,t){e.preventDefault(),this.setState({showForm:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.places,o=t.from,l=t.to,c=t.resume,s=t.showForm;return r.a.createElement("div",{className:"container-fluid"},"show"===s?r.a.createElement("form",{className:"form-newticket form-horizontal",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("div",null,r.a.createElement("span",{className:"col-md-12 label-form"},"Nouveau ticket")),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Titre"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{className:"form-control",value:a,id:"titleTicket",type:"text",placeholder:"",onChange:function(t){return e.onChangeTitle(t)}}))),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Lieu(x)"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{className:"form-control",id:"placesTicket",type:"text",value:n,placeholder:"",onChange:function(t){return e.onChangePlaces(t)}}))),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Date du"),r.a.createElement("div",{className:"col-sm-4 col-md-2"},r.a.createElement(M.a,{className:"form-control",id:"fromTicket",selectsStart:!0,placeholder:"",isClearable:!0,dateFormat:"dd/MM/yyyy",selected:o,startDate:o,endDate:l,onChange:this.onChangeFrom,showYearDropdown:!0,showWeekNumbers:!0,dateFormatCalendar:"MMMM",scrollableYearDropdown:!0,showMonthDropdown:!0,yearDropdownItemNumber:80,autoComplete:"off"})),r.a.createElement("label",{className:"col-sm-1 col-form-label"},"au"),r.a.createElement("div",{className:"col-sm-4 col-md-2"},r.a.createElement(M.a,{className:"form-control",id:"toTicket",isClearable:!0,dateFormat:"dd/MM/yyyy",placeholder:"",selectsEnd:!0,selected:l,startDate:o,endDate:l,onChange:this.onChangeTo,showYearDropdown:!0,showWeekNumbers:!0,showMonthDropdown:!0,dateFormatCalendar:"MMMM",scrollableYearDropdown:!0,yearDropdownItemNumber:30,autoComplete:"off"}))),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Status"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("select",{className:"form-control",onChange:function(t){return e.onChangeStatus(t)}},r.a.createElement("option",{value:"desire"},"Envie"),r.a.createElement("option",{value:"planned"},"Pr\xe9vu"),r.a.createElement("option",{value:"current"},"En cours"),r.a.createElement("option",{value:"finished"},"D\xe9j\xe0 fait"))),r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Moyen de transport"),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("select",{className:"form-control",onChange:function(t){return e.onChangeTransport(t)}},r.a.createElement("option",{value:"none"},"Inconnu"),r.a.createElement("option",{value:"plane"},"Avion"),r.a.createElement("option",{value:"ship"},"Bateau"),r.a.createElement("option",{value:"bus"},"Bus"),r.a.createElement("option",{value:"motorcycle"},"Moto"),r.a.createElement("option",{value:"thumbs-up"},"Stop"),r.a.createElement("option",{value:"train"},"Train"),r.a.createElement("option",{value:"shuttle-van"},"Van"),r.a.createElement("option",{value:"bicycle"},"V\xe9lo"),r.a.createElement("option",{value:"car"},"Voiture")))),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"R\xe9sum\xe9"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("textarea",{className:"form-control",defaultValue:c,onChange:function(t){return e.onChangeResume(t)}}))),r.a.createElement("div",{className:"btn-group margin-left"},r.a.createElement("button",{type:"button",className:"btn btn-default",onClick:function(t){return e.displayForm(t,"hide")}},"Annuler"),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Ajouter"))):r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.displayForm(t,"show")}},"Nouveau Ticket"))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={lastID:7,tables:["desire","planned","current","finished"],tickets:[{id:1,status:"desire",title:"Amerique du Sud",places:"Colombie - P\xe9rou",from:"",to:"",transport:"",resume:"un jour peut-\xeatre",forecasts:[{id:1,title:"P\xe9rou",status:"none",priority:3},{id:2,title:"Colombie",status:"none",priority:2},{id:3,title:"Br\xe9sil",status:"none",priority:0},{id:4,title:"Argentine",status:"none",priority:1}]},{id:2,status:"finished",title:"Japan",places:"Japon",from:"21/05/2016",to:"10/06/2016",transport:"plane",resume:"ZEeeeeeen !!!",rating:"grin-stars",forecasts:[{id:1,title:"tokyo",status:"done",priority:3},{id:2,title:"kyoto",status:"done",priority:3},{id:3,title:"Mont Fuji",status:"fail",priority:3},{id:4,title:"Nara",status:"done",priority:1}],expenses:[{id:1,category:"transport",title:"Avion",amount:600,currency:"\u20ac"},{id:2,category:"fooddrink",title:"Sushi",amount:6e3,currency:"YEN"},{id:3,category:"transport",title:"Train",amount:250,currency:"\u20ac"}]},{id:3,status:"planned",title:"Sri Lanka",places:"Sri lanka",from:"",to:"",transport:"plane",resume:"Bient\xf4t !!!"},{id:4,status:"finished",title:"Norway",places:"Norv\xe8ge",from:"28/05/2017",to:"07/06/2017",transport:"plane",resume:"Mouill\xe9 !!!",rating:"grin-stars"},{id:5,status:"current",title:"Chez les parents",places:"Lyon",from:"01/12/2018",to:"",transport:"",resume:"Trop long !!!"},{id:6,status:"finished",title:"Asia 2k18",places:"Cambodge, Vietnam, Laos, Tha\xeflande, Malaisie, Singapour, Bali, Hong Kong, S\xe9oul ",from:"23/01/2018",to:"07/06/2018",transport:"plane",resume:"Enorme !!!",rating:"grin-stars"}]},a.onDrop=function(e,t){var n=e.dataTransfer.getData("id"),r=a.state.tickets.filter(function(e){return e.id==n&&(e.status=t),e});a.setState({tickets:r})},a.onDeleteTicket=function(e){var t=a.state.tickets,n=t.findIndex(function(t){return t.id===e});t.splice(n,1),a.setState({tickets:t})},a.onUpdateTicket=function(e){var t=a.state.tickets.map(function(t){return t.id===e.id?Object(c.a)({},t,e):t});a.setState({tickets:t})},a.onSendTicket=function(e,t,n,r,o,l,c){var s=a.state.tickets,i=a.state.lastID;s.push({id:i,title:e,places:t,from:n,to:r,transport:o,status:l,resume:c}),a.setState({tickets:s,lastID:i+1})},a.orderingTable=function(e,t){var a,n=[];return e.map(function(e){a=t.filter(function(t){return t.status===e}),n.push({status:e,tickets:a})}),n},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.tables,n=t.tickets,o=this.orderingTable(a,n);return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Pounda ",r.a.createElement(g,{name:"otter"}))),r.a.createElement("div",{className:"main-container container-fluid "},r.a.createElement("div",{className:"form-container col-md-12  margin-bottom "},r.a.createElement(I,{onSendTicket:this.onSendTicket})),r.a.createElement("div",{className:"tables-container col-md-12"},o.map(function(t){return r.a.createElement("div",{key:t.status,className:"table-container col-md-3 "},r.a.createElement(A,{status:t.status,tickets:t.tickets,onDrop:e.onDrop,onDeleteTicket:e.onDeleteTicket,onUpdateTicket:e.onUpdateTicket,onUpdateTicketRating:e.onUpdateTicketRating}))}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},34:function(e,t,a){}},[[140,2,1]]]);
//# sourceMappingURL=main.299d5bcf.chunk.js.map